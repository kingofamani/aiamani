# TODO - 「一二三木頭人」網頁遊戲

## 已完成 (主要功能)

-   [x] **MVP 規劃與基礎建設**
    -   [x] 角色選擇頁面 (`index.html`)
    -   [x] MQTT 連線邏輯 (`js/common.js`) (連線、發布、斷線、唯一 ID)
    -   [x] 老師端 (`teacher.html`, `js/teacher.js`)
        -   [x] 控制按鈕：開始遊戲、一二三木頭人（老師看）、恢復背對、結束遊戲
        -   [x] 學生列表基本顯示
        -   [x] 基本訊息記錄
    -   [x] 學生端 (`student.html`, `js/student.js`)
        -   [x] 輸入暱稱加入遊戲
        -   [x] 顯示遊戲狀態和老師狀態
        -   [x] 基本訊息記錄
    -   [x] MQTT 訊息協定定義與實作 (PLAYER_JOIN, GAME_START, TEACHER_LOOK_BACK, TEACHER_LOOK_AWAY, PLAYER_CAUGHT, GAME_END, PLAYER_LEAVE)
-   [x] **UI/UX 增強 - 老師端**
    -   [x] 整體風格調整 (天空藍背景, 淺綠色容器, Nunito 字體)
    -   [x] 老師狀態圖示化 (`🧍‍♂️🔙` / `👀`)
    -   [x] 學生列表改為卡片式 (後改為圓圈)
    -   [x] CSS 優化 (懸停、陰影、圓角)
-   [x] **UI/UX 增強 - 學生端**
    -   [x] 視覺化頭像 (圓形漸層背景, 暱稱首字母)
    -   [x] 動態狀態顯示 (安全/危險/被抓/過關 - 不同背景和圖示)
    -   [x] 老師觀看時區域閃爍動畫
    -   [x] Enter 鍵加入遊戲
-   [x] **遊戲核心邏輯與進階 UI - 老師端**
    -   [x] 佈局調整 (左側控制欄, 右側學生狀態列表, 遊戲區, Toast 通知)
    -   [x] 學生顯示為彩色圓形圖示，底部橫向排列
    -   [x] 懸停學生圓圈顯示抓取按鈕
    -   [x] 學生移動邏輯 (老師端接收 `PLAYER_MOVE` 並更新圓圈 `transform: translateY()`)
    -   [x] 終點線視覺化及邏輯 (`MAX_PROGRESS` 動態計算, `PLAYER_FINISHED` 訊息)
    -   [x] 老師觀看時抓人邏輯 (`teacherIsLooking` 狀態, 移動即被抓)
    -   [x] 「結束遊戲」後重置遊戲狀態以便開始新回合
    -   [x] 學生離開網頁後，老師端學生狀態列表正確更新
-   [x] **遊戲核心邏輯與進階 UI - 學生端**
    -   [x] 「向前移動」按鈕移至畫面上方
    -   [x] 移動按鈕啟用/禁用邏輯優化 (老師看時仍可按，由老師端判斷是否抓)
    -   [x] 處理 `PLAYER_FINISHED` 訊息 (更新狀態為過關)
    -   [x] 處理 `GAME_END` 訊息 (重置狀態等待新回合)
    -   [x] 恢復頁面垂直捲軸

## 待辦事項 / 未來可改進

-   [ ] **錯誤處理與強固性**
    -   [ ] 更全面的 MQTT 連線錯誤處理與重試機制。
    -   [ ] 針對各種非預期操作或訊息順序提供更友好的提示或保護。
    -   [ ] 處理玩家暱稱重複的可能性（目前僅靠 ClientID 區分）。
-   [ ] **程式碼品質**
    -   [ ] 檢視並重構 `teacher.js` 和 `student.js` 中重複的邏輯。
    -   [ ] 增加程式碼註解，尤其是複雜邏輯部分。
    -   [ ] 考慮將 CSS 樣式進一步模組化或使用 CSS 預處理器。
-   [ ] **進階功能 (可選)**
    -   [ ] **多回合與計分板**：實現多回合遊戲，並記錄每位玩家的獲勝次數或得分。
    -   [ ] **遊戲難度調整**：例如老師回頭頻率、學生移動速度等。
    -   [ ] **音效回饋**：為關鍵事件（如開始、被抓、過關）添加音效。
    -   [ ] **遊戲房間/頻道**：允許多組玩家同時在不同頻道進行遊戲，避免互相干擾。
    -   [ ] **老師端管理工具**：例如手動將某學生踢出遊戲。
    -   [ ] **美術與動畫優化**：更精緻的 UI 設計和更流暢的動畫效果。
-   [ ] **測試**
    -   [ ] 進行多人同時連線的壓力測試。
    -   [ ] 測試不同瀏覽器和裝置的相容性。
-   [ ] **部署**
    -   [ ] 考慮將專案部署到靜態網站託管平台 (如 GitHub Pages, Netlify, Vercel)。

## 已知問題追蹤
-   (暫無，需測試發掘) 